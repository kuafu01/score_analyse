<form method="post" action="/student/profile/edit" id="profileForm">
    <div class="form-group">
        <label>姓名</label>
        <input type="text" class="form-control" name="name" value="{{ info.name }}" readonly>
    </div>
    <div class="form-group">
        <label>性别</label>
        <input type="text" class="form-control" name="gender" value="{{ info.gender }}" readonly>
    </div>
    <div class="form-group">
        <label>出生日期</label>
        <input type="date" class="form-control" name="birth_date" value="{{ info.birth_date }}" readonly>
    </div>
    <div class="form-group">
        <label>班级</label>
        <input type="text" class="form-control" name="class_name" value="{{ info.class_name }}" readonly>
    </div>
    <div class="form-group">
        <label>联系电话</label>
        <input type="text" class="form-control" name="contact_phone" value="{{ info.contact_phone }}" readonly>
    </div>
    <div class="form-group">
        <label>紧急联系人</label>
        <input type="text" class="form-control" name="emergency_contact" value="{{ info.emergency_contact }}" readonly>
    </div>
    <button type="button" class="btn btn-primary float-right" id="editBtn">编辑个人档案</button>
    <button type="submit" class="btn btn-success float-right mr-2 d-none" id="saveBtn">保存</button>
    <button type="button" class="btn btn-secondary float-right mr-2 d-none" id="cancelBtn">取消</button>
</form>
<script>
    const editBtn = document.getElementById('editBtn');
    const saveBtn = document.getElementById('saveBtn');
    const cancelBtn = document.getElementById('cancelBtn');
    const form = document.getElementById('profileForm');
    const inputs = form.querySelectorAll('input');
    editBtn.onclick = function() {
        inputs.forEach(i => i.readOnly = false);
        editBtn.classList.add('d-none');
        saveBtn.classList.remove('d-none');
        cancelBtn.classList.remove('d-none');
    };
    cancelBtn.onclick = function() {
        window.location.reload();
    };
</script>
